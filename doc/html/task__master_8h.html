<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PID motor Controller with Encoder Input: task_master.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PID motor Controller with Encoder Input
   &#160;<span id="projectnumber">pi/2</span>
   </div>
   <div id="projectbrief">Uses encoder readings of motor position as input for a PID motor controller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">task_master.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains #defines and function declarations for the master task.  
<a href="#details">More...</a></p>

<p><a href="task__master_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a503dbb4fae2bf1837529357d35932939"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a503dbb4fae2bf1837529357d35932939"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWAITING_CAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a503dbb4fae2bf1837529357d35932939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddd570ad03298cdcf6728dcc3b82985"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ddd570ad03298cdcf6728dcc3b82985"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CALIBRATION</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a4ddd570ad03298cdcf6728dcc3b82985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b4f19d344e3ba8e7a5f7fd4ea7a09b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3b4f19d344e3ba8e7a5f7fd4ea7a09b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWAITING_TARG</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ae3b4f19d344e3ba8e7a5f7fd4ea7a09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d6632377a183813fff008f800d09fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79d6632377a183813fff008f800d09fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SELECT_TARG</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a79d6632377a183813fff008f800d09fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8158e9fb451ddb28e1e22ebaf5a31497"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8158e9fb451ddb28e1e22ebaf5a31497"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRACK_TARG</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a8158e9fb451ddb28e1e22ebaf5a31497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c21a7caee326d7803b94ae1952b27ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c21a7caee326d7803b94ae1952b27ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IDLE</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a9c21a7caee326d7803b94ae1952b27ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe83ac76edc595f6b98cd4a4127aed5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fe83ac76edc595f6b98cd4a4127aed5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ERROR</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a8fe83ac76edc595f6b98cd4a4127aed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6be53d26ee8ca82bed74b32dfc3bf3a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6be53d26ee8ca82bed74b32dfc3bf3a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STACK_SIZE_MASTER</b>&#160;&#160;&#160;280</td></tr>
<tr class="separator:ab6be53d26ee8ca82bed74b32dfc3bf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7abe005ce30de2f407700cf71df346f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__master_8h.html#a7abe005ce30de2f407700cf71df346f9">task_master</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a7abe005ce30de2f407700cf71df346f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the task function for the master task.  <a href="#a7abe005ce30de2f407700cf71df346f9">More...</a><br/></td></tr>
<tr class="separator:a7abe005ce30de2f407700cf71df346f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains #defines and function declarations for the master task. </p>
<p>Revisions: </p>
<ul>
<li>11-27-2014 JF, ML, JR created original file</li>
</ul>
<p>License: This file is copyright 2012 by JF, ML, JR and released under the Lesser GNU Public License, version 2. It intended for educational use only, but its use is not limited thereto. </p>

<p>Definition in file <a class="el" href="task__master_8h_source.html">task_master.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7abe005ce30de2f407700cf71df346f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_master </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the task function for the master task. </p>
<p>This function decides which state the system is in, based on the previous state, and the current values of certain shared variables. The seven possible system states are as follows: </p>
<pre class="fragment">AWAITING_CAL - Awaiting Calibration - The system is waiting for the user to 
press the target set button, to initialize the zero reference position.
Motor power: 0

CALIBRATION  - Calibration State - The user is holding the target set button,
and controlling the mirror array with the joystick. Once the mirror array is
in the zero reference position, the user can release the button.
Motor power: Joystick ADC Reading

AWAITING_TARG - Awaiting Target - The system is waiting for the user to 
press the target set button, to initialize the first target.
Motor power: 0

SELECT_TARG  - Target Selection - The user is holding the target set button,
and controlling the mirror array with the joystick. Once the sun is correctly
being redirected to the target, the user can release the button.
Motor power: Joystick ADC Reading

TRACK_TARG - The mirror array is actively tracking the sun, and redirecting
the beam of light to the target.
Motor power: PI controller

ERROR - The safety task has decided that an error has occurred, and the motors
are powered down in response.
Motor power: 0

IDLE - state which allows the user to reset the system from the ERROR state to
the SELECT_TARG state.
Motor power: 0</pre> 
<p>Definition at line <a class="el" href="task__master_8c_source.html#l00076">76</a> of file <a class="el" href="task__master_8c_source.html">task_master.c</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00083">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 7 2014 03:23:25 for PID motor Controller with Encoder Input by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
